# 硬件伪装技术求助文档

## 项目背景

我们正在开发一个基于Docker的Linux学习平台，运行在Codespace环境中。项目为每个用户创建独立的Ubuntu容器，提供Linux学习环境。

### 当前环境配置
- **宿主机**: GitHub Codespace (4核CPU, 15GB内存, 118GB临时存储)
- **容器技术**: Docker + Ubuntu 22.04
- **用户容器**: 每用户一个独立容器，512MB内存限制，512 CPU shares
- **安全策略**: 非特权容器，dropped capabilities，no-new-privileges

### 项目架构
```
Codespace Host (4C/15GB)
├── 主应用容器 (Node.js后端 + 前端)
├── 用户容器1 (Ubuntu, 512MB限制)
├── 用户容器2 (Ubuntu, 512MB限制)
└── ...
```

## 技术需求

需要在用户容器内实现硬件信息伪装，让容器内显示为高配置服务器：
- **目标CPU**: 24核心 (当前真实4核)
- **目标内存**: 64GB (当前真实15GB)
- **目标存储**: 1TB (当前真实118GB临时存储)

## 技术约束

### 1. 安全限制
- 不能给容器特权模式 (`--privileged`)
- 如果必须临时提权，需要在伪装完成后立即收回
- 不能破坏宿主机安全性
- 不能影响其他用户容器

### 2. 伪装要求
- 容器内用户难以发现伪装痕迹
- 常用系统信息命令必须显示伪装数据：
  - `lscpu` - CPU信息
  - `htop` / `top` - 进程和系统监控
  - `neofetch` - 系统信息展示
  - `free -h` - 内存信息
  - `df -h` - 磁盘信息
  - `/proc/cpuinfo` - CPU详细信息
  - `/proc/meminfo` - 内存详细信息
  - `/proc/stat` - 系统统计信息

### 3. 技术限制
- 不使用简单的命令覆盖 (alias, function override)
- 伪装数据要保持一致性
